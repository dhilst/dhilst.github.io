---
layout: post
title: Middleware manager..
date: '2011-01-07T19:52:00.000-08:00'
author: Daniel Hilst
blogger: true
tags: 
modified_time: '2011-01-07T19:54:47.065-08:00'
blogger_id: tag:blogger.com,1999:blog-8785437776394405849.post-3417594424213646649
blogger_orig_url: http://gkos-hw.blogspot.com/2011/01/middleware-manager.html
---

Yeap, I got a job. Intern on middleware management area.. I really like it.. I have<br />close contact with commercial aplications and linux/unix environments... and the warm/pressure of the businesses.. There are nice guys there.. some times looks like an arena.. but with little fat funny guys instead of big muscle losers.. :-)&nbsp; <br /><br />by the way.. an tree prototype...<br /><br /><br />tree.h<br /><pre class="brush: c">#ifndef GKO_TREE_H<br />#define GKO_TREE_H<br /><br />#include "stack.h"<br />#include "ll.h"<br />#include "common.h"<br /><br />typedef struct branch {<br />    char *name;<br />    char *data;<br />    ll cont;<br />    struct branch *next;<br />} branch;<br />    <br />void init_tree (branch *,  char *,  char *) ;<br />void set_branch (branch *,  char *,  char *);<br />branch *get_branch (branch *, char *);<br /><br />#endif<br /><br /></pre><br />tree.c<br /><pre class="brush: c">#include "tree.h"<br /><br />/* Initialize a Tree, set the root node */<br />void<br />init_tree (branch *t, char *name, char *data) <br />{<br />    cpystr (&amp;t-&gt;name, name);<br />    cpystr (&amp;t-&gt;data, data);<br />    init_ll (&amp;t-&gt;cont);<br />    t-&gt;next = NULL;<br />}<br /><br />/* Create a new branch or edit an existent one */<br />void<br />set_branch (branch *t, char *name, char *data)<br />{<br />    lln **node = search_lln (&amp;t-&gt;cont, name);<br />    branch *b;<br /><br />    if (node) { /* edit branch */<br />        b = node[0]-&gt;data; /* the address of found branch */<br />        free (b-&gt;data);<br />        cpystr (&amp;b-&gt;data, data);<br />    } else { /* create a brand new branch */<br />        b = xmalloc (sizeof (branch));<br />        init_tree (b, name, data);<br />    }<br />    <br />    add_lln (&amp;t-&gt;cont, name, b); /* tree contains branch */<br />}<br /><br />/* Return the address of a branch */<br />branch *<br />get_branch (branch *t, char *name)<br />{<br />    lln **node = search_lln (&amp;t-&gt;cont, name);<br />    if (node)<br />        return node[0]-&gt;data; /* return void * don't need casts */<br />    return NULL;<br />}<br /><br />/* Delete a branch an everything below that node */<br />/* @TODO */<br />void<br />del_branch ()<br />{<br />}<br /><br /></pre><br /><br />driver<br /><pre class="brush: c">#include &lt;stdio.h&gt;<br />#include &lt;stdlib.h&gt;<br />#include &lt;string.h&gt;<br /><br />#include "tree.h"<br /><br />main ()<br />{<br />    branch myt;<br />    branch *buf;<br /><br />    init_tree (&myt, "root", "root_data");<br />    set_branch (&myt, "etc", "etc_data");<br />    set_branch (&myt, "usr", "usr_data");<br /><br />    buf = get_branch (&myt, "etc");<br />    printf ("Searched %s\n", buf-&gt;data);<br />    <br />    set_branch (buf, "rc.conf", "rc.conf data");<br />    buf = get_branch (buf, "rc.conf");<br />    printf ("Searched %s\n", buf-&gt;data);<br /><br />    buf = get_branch (&myt, "usr");<br />    printf ("User data? %s\n", buf-&gt;data); <br /><br />    set_branch (&myt, "etc", "etc_edited_data");<br />    buf = get_branch (&myt, "etc");<br />    printf ("Searched %s\n", buf-&gt;data);<br /><br />    return 0;<br />}<br /><br /></pre><br /><b>MAYBE </b>I work more on this..